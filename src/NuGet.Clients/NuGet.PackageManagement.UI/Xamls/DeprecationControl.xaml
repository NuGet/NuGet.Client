<UserControl x:Class="NuGet.PackageManagement.UI.DeprecationControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:nuget="clr-namespace:NuGet.PackageManagement.UI"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="150" d:DesignWidth="350"
             Background="{DynamicResource {x:Static nuget:Brushes.InfoBackgroundKey}}">
  <UserControl.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <nuget:SharedResources />
      </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
  </UserControl.Resources>
  <UserControl.CommandBindings>
    <CommandBinding
      Command="{x:Static nuget:PackageManagerControlCommands.OpenExternalLink}"
      Executed="ExecuteOpenExternalLink" />
  </UserControl.CommandBindings>
  <Grid>
    <Expander
      Margin="0,12,0,16"
      IsExpanded="True"
      Foreground="{DynamicResource {x:Static nuget:Brushes.UIText}}">
      <Expander.Header>
        <TextBlock
        FontWeight="Bold">
          <Run
            FontWeight="Bold"
            Text="{x:Static nuget:Resources.Label_Deprecated}" />
          <Run Text="{Binding Path=PackageDeprecationReasons}" />
        </TextBlock>
      </Expander.Header>
      <StackPanel
        Orientation="Vertical">
        <TextBlock
          Margin="8,8,8,0"
          TextWrapping="WrapWithOverflow"
          TextTrimming="WordEllipsis"
          Text="{Binding Path=PackageDeprecationReasonsExplained}" />
        <StackPanel
          Margin="8,8,8,0"
          Orientation="Vertical"
          Visibility="{Binding Path=PackageDeprecationAlternatePackageLinkText, Converter={StaticResource NullToVisibilityConverter}}">
          <TextBlock
            Text="Alternate package"
            FontWeight="Bold"/>
          <StackPanel
            Orientation="Horizontal"
            VerticalAlignment="Center">
            <TextBlock
              TextWrapping="WrapWithOverflow"
              VerticalAlignment="Center">
              <Hyperlink
                NavigateUri="{Binding Path=PackageDeprecationAlternatePackageLinkUrl}"
                Style="{StaticResource HyperlinkStyle}"
                Command="{x:Static nuget:PackageManagerControlCommands.OpenExternalLink}">
                <Run Text="{Binding Path=PackageDeprecationAlternatePackageLinkText}" />
              </Hyperlink>
            </TextBlock>
            <TextBlock
              Text="{x:Static nuget:Resources.Label_OrAbove}"
              VerticalAlignment="Center"
              Visibility="{Binding Path=PackageDeprecationAlternatePackageRangeHasUpperBound, Converter={StaticResource BooleanToVisibilityConverter}}"/>
          </StackPanel>
        </StackPanel>
        <StackPanel
          Margin="8,8,8,0"
          Visibility="{Binding Path=PackageDeprecationCustomMessage, Converter={StaticResource NullToVisibilityConverter}}">
          <TextBlock
            Text="Additional details"
            FontWeight="Bold"/>
          <TextBlock
              TextWrapping="WrapWithOverflow"
              Text="{Binding Path=PackageDeprecationCustomMessage}"
              VerticalAlignment="Center" />
        </StackPanel>
      </StackPanel>
    </Expander>
  </Grid>
</UserControl>
